<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0" xmlns:media="http://search.yahoo.com/mrss/"><channel><title><![CDATA[Neighborly Nook]]></title><description><![CDATA[Borrow our cup of sugar]]></description><link>https://neighborlynook.com/</link><image><url>https://neighborlynook.com/favicon.png</url><title>Neighborly Nook</title><link>https://neighborlynook.com/</link></image><generator>Ghost 3.41</generator><lastBuildDate>Mon, 19 Apr 2021 09:40:07 GMT</lastBuildDate><atom:link href="https://neighborlynook.com/rss/" rel="self" type="application/rss+xml"/><ttl>60</ttl><item><title><![CDATA[Unit Testing Inside Enterprise Microservices]]></title><description><![CDATA[<p>Enterprise microservices tend to be a combination of technologies. The objective of this post is to go over multiple approaches to different scenarios commonly found in enterprise JS services.</p><p>The Scenarios:</p><ol><li>Testing a service-call with an XML request to an enterprise SOAP service</li><li>Testing a standard POST call to an</li></ol>]]></description><link>https://neighborlynook.com/unit-testing-inside-enterprise-microservices/</link><guid isPermaLink="false">5f77616712075d0001cef40b</guid><category><![CDATA[developer]]></category><category><![CDATA[code]]></category><category><![CDATA[webdev]]></category><dc:creator><![CDATA[Matthew Zygowicz]]></dc:creator><pubDate>Sun, 25 Oct 2020 23:09:46 GMT</pubDate><media:content url="https://images.unsplash.com/photo-1542744094-24638eff58bb?ixlib=rb-1.2.1&amp;q=80&amp;fm=jpg&amp;crop=entropy&amp;cs=tinysrgb&amp;w=2000&amp;fit=max&amp;ixid=eyJhcHBfaWQiOjExNzczfQ" medium="image"/><content:encoded><![CDATA[<img src="https://images.unsplash.com/photo-1542744094-24638eff58bb?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=2000&fit=max&ixid=eyJhcHBfaWQiOjExNzczfQ" alt="Unit Testing Inside Enterprise Microservices"><p>Enterprise microservices tend to be a combination of technologies. The objective of this post is to go over multiple approaches to different scenarios commonly found in enterprise JS services.</p><p>The Scenarios:</p><ol><li>Testing a service-call with an XML request to an enterprise SOAP service</li><li>Testing a standard POST call to an enterprise service</li><li>Testing a database connection and related queries</li><li>Testing an LDAP connection and related searches</li><li>Testing an express route containing one or more of the above</li></ol><p>Before we get into the article, you can find most code samples inside this repo I threw together for this.</p><p>https://github.com/goldsziggy/enterprise-testing-patterns</p><h2 id="the-objective">The Objective</h2><p>The question remains, why perform unit-testing? Adding testing around your express-routes helps ensure your complete code path and tool-chain are being tested. Proper code coverage guarantees your calls are still being invoked and the business logic needed is unhindered. This gives developers confidence when updating dependencies and allows for more automation and less human intervention.</p><p>What this post is NOT.  This post is not a great example of how to write an enterprise express service.  The repo I link here does not do any input scrubbing and is written purely for example purposes and to show-case testing patterns in a semi-real environment.</p><h2 id="the-toolchain">The Toolchain</h2><p>To accomplish the above testing we will leverage the following toolchain/stack:</p><ul><li><a href="https://jestjs.io/">Jest</a> - This will be our test-runner and overall framework. We will leverage Jest mocks when it comes time to test MySQL and LDAP responses</li><li><a href="https://github.com/nock/nock">Nock</a> - A delightfully simple HTTP mocking library. This will be leveraged whenever we need to mock an outbound connection (REST/SOAP)</li><li><a href="https://www.npmjs.com/package/supertest">SuperTest</a> - A HTTP library leveraged for testing express app servers.</li></ul><h2 id="testing-a-service-call-with-an-xml-request-to-an-enterprise-soap-service">Testing a service-call with an XML request to an enterprise SOAP service</h2><p><code>https://github.com/goldsziggy/enterprise-testing-patterns/blob/master/__tests__/soap.spec.js</code></p><p>When building unit tests around network-based requests such as SOAP, we generally don't care about the transport layer. That means, our testing goal should be verifying our request before it's sent, and how our service behaves after the request.</p><p>With that said, we can start examing the test-cases written for this example.</p><h3 id="the-imports">The Imports</h3><pre><code class="language-js">const nock = require('nock') // HTTP Mocking library
const parser = require('fast-xml-parser') // XML parser
const lodash = require('lodash') 
const { currencyConversion } = require('../src/soap') // the sample soap service call
</code></pre><p><code>nock</code> and <code>fast-xml-parser</code> in my opinion are must-haves.  As I mentioned previously we don't care about the HTTP transport layer, so we can rely on nock to mock that piece out of the equation to make our test-cases consistent and accurate.  <code>fast-xml-parser</code> will be used to confirm the request XML we generate meets certain business requirements.</p><h3 id="sample-responses">Sample responses</h3><pre><code class="language-js">const sampleSuccessResponse = `&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;soap:Envelope xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/"&gt;
  &lt;soap:Body&gt;
    &lt;GetCurrencyRateResponse xmlns="http://tempuri.org/"&gt;
      &lt;GetCurrencyRateResult&gt;15&lt;/GetCurrencyRateResult&gt;
    &lt;/GetCurrencyRateResponse&gt;
  &lt;/soap:Body&gt;
&lt;/soap:Envelope&gt;`

const sampleErrorResponse = `&lt;?xml version="1.0" encoding="utf-8"?&gt;&lt;soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema"&gt;&lt;soap:Body&gt;&lt;soap:Fault&gt;&lt;faultcode&gt;soap:Client&lt;/faultcode&gt;&lt;faultstring&gt;Server was unable to read request. ---&amp;gt; There is an error in XML document (12, 18). ---&amp;gt; The string \'1603068090810\n      \' is not a valid AllXsd value.&lt;/faultstring&gt;&lt;detail /&gt;&lt;/soap:Fault&gt;&lt;/soap:Body&gt;&lt;/soap:Envelope&gt;`
</code></pre><p>Soap responses are generally more verbose than REST responses, with varying XML tags being used in the response. It is for that reason I recommend storing these responses in a variable.  In this example, I hard-coded strings to the top of the file, but as a better practice, I would make these responses live in the folder with the soap request.</p><h3 id="test-type-1-happy-path">Test-Type 1: Happy Path</h3><pre><code class="language-js">it('Should return the currency upon success', async () =&gt; {
  nock(soapURL)
    .post('/converter.asmx?WSDL')
    .reply(200, sampleSuccessResponse)
  const val = await currencyConversion(Date.now(), false)
  expect(val).toEqual(15)
})
</code></pre><p>The happy path testing is always the smallest of the tests. Here we simply call out function and rely on nock to reply with our consistent sampleSuccessResposne.  Following the <code>nock</code> API, we specify the baseURL for our soap service and tell nock to force a reply with 200 success-code and our sample success response.</p><h3 id="test-type-2-verify-dynamic-requests">Test-Type 2: Verify Dynamic Requests</h3><pre><code class="language-js">it('Should set currency to US when isUSD is true', async () =&gt; {
  expect.assertions(1)
                                                                
  nock(soapURL)
    .post(`/converter.asmx?WSDL`)
    .reply(200, (uri, requestBody) =&gt; {
      const parsed = parser.parse(requestBody)
      const parsedRate = lodash.get(parsed, 'soap:Envelope.soap:Body.GetCurrencyRate')
      expect(parsedRate.Currency).toEqual('US')
    })
    
  await currencyConversion(Date.now(), true)

})
</code></pre><p>In our sample enterprise service, our soap requesting function will build an XML string based on a dynamic template.  The above test, confirms the correctness of the dynamically generated XML.  To do this, we leverage nock's ability to apply introspection on the requestBody.  You will noticed after our await, we leverage Jests <code>expect.assertions</code> api to verify our assertion was actually called.  This call out happens at the beginning of the file to let Jest know what to expect.</p><h3 id="test-type-3-the-expected-error-case">Test-Type 3: The Expected Error Case</h3><pre><code class="language-js">it('Should throw the soap Error when there is XML returned', async (done) =&gt; {
  nock(soapURL)
    .post('/converter.asmx?WSDL')
    .reply(500, sampleErrorResponse)
    
  try {
    await currencyConversion(Date.now(), false)
  } catch (e) {
    expect(e.message).toEqual(expect.stringContaining('Server was unable to read request'))
    return done()
  }
  done(new Error('expected the soap call to throw an error and none was recieved'))
})
</code></pre><p>The above test case shows us forcing a 500 response with our expected <code>errorResponseXML</code> object. The logic within our sample service is designed to create a new error with the proper message derived from our XML object.  This test ensures that our expected error message exists.</p><h2 id="testing-a-standard-post-call-to-an-enterprise-service">Testing a standard POST call to an enterprise service</h2><p><code>https://github.com/goldsziggy/enterprise-testing-patterns/blob/master/__tests__/services.spec.js</code></p><p>Writing test cases to individual services can be a valuable task - at times.  My philosophy here is that rest service calls should be simple concise functions with little functionality.  These small functions will create a lot of 'boilerplate' looking tests.</p><h3 id="the-imports-1">The Imports</h3><pre><code class="language-js">const nock = require('nock')
const services = require('../src/services')
</code></pre><p>For testing our small service calls we simply require our <code>nock</code> library once again.  We will leverage this library to mock successes, failures, and timeouts all without making the network request.  Below, we will simply leverage the nock function in different ways to enable us to create/cause errors</p><h3 id="test-case-1-the-happy-path">Test-Case 1: The Happy Path</h3><pre><code class="language-js">it('Should return the data on a successful call', async () =&gt; {
  const id = '123'
  const mockData = { foo: 'bar' }
  
  nock('https://ghibliapi.herokuapp.com')
    .get(`/films/${id}`)
    .reply(200, mockData)
    
  const data = await services.getByFilmId(id, { info: jest.fn(), error: jest.fn() })
  expect(data).toEqual(mockData)
})
</code></pre><p>Paying attention to the line with the service call, you will notice us leverage jest mocks.  In this example, our service is passed a child logger of Bunyan that is used to log out.  Because we are not in the middle of our express call stack, we have to mock the implementation of that object to not cause errors</p><h3 id="test-case-2-the-expected-failure">Test-Case 2: The Expected Failure</h3><pre><code class="language-js">it('Should throw an error when the service is down', async () =&gt; {
  const id = '123'
  nock('https://ghibliapi.herokuapp.com')
    .get(`/films/${id}`)
    .reply(500, () =&gt; {})
  try {
    await services.getByFilmId(id, { info: jest.fn(), error: jest.fn() })
    throw new Error('The service call did not throw the expected error')
  } catch (e) {
    expect(e.message).toEqual('Request failed with status code 500')
  }
})
</code></pre><h3 id="test-case-3-the-timeout-behavior">Test-Case 3: The timeout behavior</h3><pre><code class="language-js">it('Should throw an error if the service call timesout', async (done) =&gt; {
  const id = '123'
  nock('https://ghibliapi.herokuapp.com')
    .get(`/films/${id}`)
    .delayConnection(1500)
    .reply(200, {})
  try {
    await services.getByFilmId(id, { info: jest.fn(), error: jest.fn() })
    throw new Error('The service call did not throw the expected error')
  } catch (e) {
    expect(e.message).toEqual('timeout of 1000ms exceeded')
  }
  done()
})
</code></pre><h2 id="testing-a-database-connection-and-related-queries">Testing a database connection and related queries</h2><p>As developers testing implementation code there is no need to call the underlying database.  In these scenarios we can rely on Jest mocks to become our imaginary database connection.  This way we have full control over the output and they can properly wargame both success and error scenarios.</p><h3 id="the-setup">The Setup</h3><p>When building out database connections I recommend having a single file to prep and export our database client. Our service can then leverage this file throughout for usage creating a single point where our requests originate simplifying testing.</p><pre><code class="language-js">const mysql = require('mysql2')

const pool = mysql.createPool({
  host: process.env.MYSQL_HOST || 'example.org',
  user: process.env.MYSQL_USER || 'bob',
  password: process.env.MYSQL_PW || 'secret',
  database: process.env.MYSQL_DB || 'test',
})

module.exports = pool.promise()
</code></pre><h3 id="mocking-and-testing">Mocking and Testing</h3><p><code>https://github.com/goldsziggy/enterprise-testing-patterns/blob/master/__tests__/mysql.spec.js</code></p><pre><code class="language-js">const mockPool = require('../src/mysql/connection')

jest.mock('../src/mysql/connection', () =&gt; {
  return {
    query: jest.fn(),
  }
})
</code></pre><p>With our implementation code being the exported pool connection, we can create our mock of the object and the query function.  By completing the above, we are allowed to freely manipulate the <code>mockPool</code> and fake our return results for our test-cases.</p><pre><code class="language-js">it('Should run the query from inputOne', async (done) =&gt; {
  mockPool.query.mockImplementation((sql) =&gt; {
    // place your mock data here for testing more complex returns!
    return [1, 2]
  })

  await querySomething(true)

  expect(mockPool.query).toHaveBeenCalledWith('SELECT * FROM inputOne WHERE 1=1')
  done()
})
</code></pre><p>In this sample test, we tell our <code>mockPool</code> to return a mocked-up array.  Following the data setup, we then call our functional logic in <code>querySomething</code>.  With the above setup complete we can validate what the SQL query was.  Taking this a step further, if our <code>querySomething</code> function performed additional business logic or data manipulation we could confirm the output of the function via an expect clause as well.</p><h2 id="testing-an-ldap-connection-and-related-searches">Testing an LDAP connection and related searches</h2><p>Mocking up LDAP will follow the same pattern as the MySQL example above.  We will create a file to act as our intermediary for all LDAP connections/queries - and use that for our mocks.  When interacting with LDAP I prefer the <code>ldapts</code> package as it does come promisified.</p><pre><code class="language-js">const { Client } = require('ldapts')

const url = 'ldaps://ldap.jumpcloud.com'

const client = new Client({
  url,
})

return client
</code></pre><h3 id="mocking-and-testing-1">Mocking and Testing</h3><pre><code class="language-js">const { getUsers } = require('../src/ldap/ldap-calls')
const mockLdap = require('../src/ldap/client')

jest.mock('../src/ldap/client', () =&gt; {
  return {
    bind: jest.fn(),
    unbind: jest.fn(),
    search: jest.fn(),
  }
})

...

afterEach(() =&gt; {
  mockLdap.search.mockReset()
  mockLdap.bind.mockReset()
  mockLdap.unbind.mockReset()
})
</code></pre><p>From the above, you will notice the same pattern used in the MySQL section.  We take our singleton-like client object and prep it to be used as a mock. Different from the MySQL implementation, you will notice we perform a cleanup <code>afterEach</code> of our test runs.  Cleanup functions like this are a great practice to help ensure your mocks aren't causing side-effects and creating flaky tests.</p><pre><code class="language-js"> it('When LDAP succeeds should return the searchEntries, and call unbind', async (done) =&gt; {
  mockLdap.search.mockImplementation(() =&gt; {
    // place your mock data here for testing more complex returns!
    return { searchEntries: 'matt@zygowicz.com' }
  })
  try {
    const user = await getUsers('foo')
    expect(user).toEqual('matt@zygowicz.com')
    expect(mockLdap.bind).toHaveBeenCalled()
    expect(mockLdap.search).toHaveBeenCalled()
    expect(mockLdap.unbind).toHaveBeenCalled()
  } catch (e) {
    done(e)
  }
  done()
})
</code></pre><p>The above test case shows us creating a mock implementation of our search function.  This mock simply returns a hard-coded entry.  This allows us to confirm the logic in our code base for when success or failure happens.   Additionally, I confirm that our LDAP connection was unbound and closed after the call as well.</p><h2 id="testing-an-express-route-containing-one-or-more-of-the-above">Testing an express route containing one or more of the above</h2><p>Finally, now that we have tested all the individual pieces, we need to confirm that our logic that binds them is accurate.  For this section, we will take the lessons learned from above, and mock out a single route from our microservice.</p><pre><code class="language-js">// same scaffolding we've seen before
...
  it("should call getAllFilms, taking the first result and passing it to getFilmById", (done) =&gt; {
    const mockItem = { id: "321" };
    mockLdap.search.mockImplementation(() =&gt; {
      return { searchEntries: "matt@zygowicz.com" };
    });
    nock("https://ghibliapi.herokuapp.com")
      .get(`/films`)
      .reply(200, [mockItem, { id: "123" }]);
    nock("https://ghibliapi.herokuapp.com")
      .get(`/films/${mockItem.id}`)
      .reply(200, mockItem);
    request(app)
      .post("/enterprise-testing-patterns")
      .expect(200)
      .end((err, res) =&gt; {
        if (err) {
          done(err);
        }
        expect(res.body).toEqual({
          film: { id: "321" },
          user: "matt@zygowicz.com",
        });
        done();
      });
  });
</code></pre><p>From top to bottom of this test, you'll notice it is quite concise.  A majority of the test will be mocking out the individual components down the stack that the route will use.  The benefit of this test is that it creates an end-to-end view of how all the components integrate</p><p>In my opinion, these types of tests are the most valuable, as generally speaking the route is where a majority of the business rules around how to manipulate the data you are retrieving live.  These tests are not without their faults though; as the scale of the test increase, the chances of you introducing human-induced flakiness increase.</p>]]></content:encoded></item><item><title><![CDATA[Recognizing & Understanding Postpartum]]></title><description><![CDATA[<p><br><br>Is this really postpartum or anxiety, anger, and stress? </p><p>This is the question I ask myself every day. There are times that I feel like I can concur the world, super wife &amp; mom. Then that time comes when my world comes crashing down on me. When something doesn’t</p>]]></description><link>https://neighborlynook.com/recognizing-understanding-postpartum/</link><guid isPermaLink="false">5f4a76e0603c930001cfedc1</guid><category><![CDATA[postpartum]]></category><category><![CDATA[stress]]></category><category><![CDATA[baby]]></category><dc:creator><![CDATA[Samantha Zygowicz]]></dc:creator><pubDate>Sat, 29 Aug 2020 15:42:30 GMT</pubDate><media:content url="https://images.unsplash.com/photo-1560305850-d90e0af2ff18?ixlib=rb-1.2.1&amp;q=80&amp;fm=jpg&amp;crop=entropy&amp;cs=tinysrgb&amp;w=2000&amp;fit=max&amp;ixid=eyJhcHBfaWQiOjExNzczfQ" medium="image"/><content:encoded><![CDATA[<img src="https://images.unsplash.com/photo-1560305850-d90e0af2ff18?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=2000&fit=max&ixid=eyJhcHBfaWQiOjExNzczfQ" alt="Recognizing & Understanding Postpartum"><p><br><br>Is this really postpartum or anxiety, anger, and stress? </p><p>This is the question I ask myself every day. There are times that I feel like I can concur the world, super wife &amp; mom. Then that time comes when my world comes crashing down on me. When something doesn’t go right I start to doubt myself, punish myself. That’s when the anger starts to tear its ugly head. I don’t mean the things I say but everything just because too much. Admitting I have postpartum feels like I admitting that I’m failing as a wife and mom. In order to be the best wife &amp; mom I can’t be stressed, I can’t be angry. Everything I do, I need to keep telling myself that I can do this and believe it. Life isn’t easy and I’m only human. Mistakes will be made, things will go wrong. As a wife and mom I just need to do the best I can and enjoy all the little things in life that mean the most. <br></p>]]></content:encoded></item><item><title><![CDATA[The Benefits of Breastfeeding vs Formula]]></title><description><![CDATA[<hr><h2 id="breastfeeding">Breastfeeding</h2><hr><p>I always wanted to breastfeed our baby so when that day finally came I was anxious and nervous to get started. Throughout my pregnancy the doctors made it seem like breastfeeding was so easy and natural, they didn't really prepare me for the ups and downs. When my son</p>]]></description><link>https://neighborlynook.com/the-benefits-of-breastfeeding-vs-formula/</link><guid isPermaLink="false">5f281fe042e85e0001aaf64f</guid><category><![CDATA[Enfamil]]></category><category><![CDATA[formula]]></category><category><![CDATA[breastfeeding]]></category><category><![CDATA[bottle fed]]></category><category><![CDATA[baby]]></category><dc:creator><![CDATA[Samantha Zygowicz]]></dc:creator><pubDate>Mon, 03 Aug 2020 15:31:00 GMT</pubDate><media:content url="https://images.unsplash.com/photo-1523881542461-305ab566932f?ixlib=rb-1.2.1&amp;q=80&amp;fm=jpg&amp;crop=entropy&amp;cs=tinysrgb&amp;w=2000&amp;fit=max&amp;ixid=eyJhcHBfaWQiOjExNzczfQ" medium="image"/><content:encoded><![CDATA[<hr><h2 id="breastfeeding">Breastfeeding</h2><hr><img src="https://images.unsplash.com/photo-1523881542461-305ab566932f?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=2000&fit=max&ixid=eyJhcHBfaWQiOjExNzczfQ" alt="The Benefits of Breastfeeding vs Formula"><p>I always wanted to breastfeed our baby so when that day finally came I was anxious and nervous to get started. Throughout my pregnancy the doctors made it seem like breastfeeding was so easy and natural, they didn't really prepare me for the ups and downs. When my son was born I thought he was latching on correctly and was getting enough milk, turns out I was wrong. He ended up needing to be bottle fed formula for the first week due to dehydration and being in the NICU for an elevated bilirubin. The doctors kept encouraging me to continue to pump because my breastmilk was the best thing for him. It's filled with nutrition that he can't get from formula. Luckily, once I had enough milk I was able to bottle feed him.</p><p>Breastmilk has so many healthy benefits for babies and it's easier to digest rather than formula. It is also packed with nutrients that changes as your baby grows to insure your baby has everything there body needs. Babies that are breastfed or given breastmilk are less likely to become victims of SIDS. Breastmilk also benefits brain development. Children that were breastfed for the first 6 months of age or more are shown to have higher test scores than children who were given formula for the first 6 months of age. It is also said that babies have an easier time getting back to sleep after a feeding due to the oxytocin and other hormones. </p><p>Our son does a million times better now that he is on breastmilk full time. He had a very difficult time digesting the formula. </p><p></p><h2 id="formula-fed">Formula Fed</h2><hr><p>Some babies have difficulty tolerating it which can cause the babies to have diarrhea and gas. Formula also does not contain Immunoglobulins, no passive immunities for the baby. There are some brands of formula that are similar to breastmilk like Enfamil Enspire NeuroPro. We decided to buy that formula for our son just incase I couldn't produce enough milk. We chose this brand of formula because it is easier for babies to digest and offers the nutrients and vitamins needed for brain development. </p><p>The 2 brands we have tried are Enfamil Gentlelease and Enfamil NeuroPro Infant. Our son didn't like Gentlelease once he was given my breastmilk on a regular basis. He would spit up move frequently or refuse the bottle. That's when we discovered Enfamil NeuroPro Infant. He seems to like the taste and he is able to digest it better. </p><p>Formula may not have all of the benefits as breastmilk but you can find a brand that not only works well for you and your baby but that also has its own benefits. </p><p></p><h2 id="resources">Resources</h2><hr><figure class="kg-card kg-bookmark-card"><a class="kg-bookmark-container" href="https://www.medela.com/breastfeeding/mums-journey/breastfeeding-benefits-baby"><div class="kg-bookmark-content"><div class="kg-bookmark-title">What are the benefits of breastfeeding for your baby?</div><div class="kg-bookmark-description">Breast milk is the ideal food for babies. But did you know it also protects their health? Learn more about all the amazing benefits of breastfeeding.</div><div class="kg-bookmark-metadata"><img class="kg-bookmark-icon" src="https://www.medela.com/.resources/medela-website-module/webresources/img/apple-touch-icon.png" alt="The Benefits of Breastfeeding vs Formula"><span class="kg-bookmark-publisher">Medela</span></div></div><div class="kg-bookmark-thumbnail"><img src="https://www.medela.com/.imaging/mte/medela-2018/content/dam/medela-com/breastfeeding-consumer/pictures/general/advice/breastfeeding-benefits-for-baby.jpg/jcr:content/breastfeeding-benefits-for-baby.jpg" alt="The Benefits of Breastfeeding vs Formula"></div></a></figure><figure class="kg-card kg-embed-card"><blockquote class="wp-embedded-content"><a href="https://americanpregnancy.org/breastfeeding/breastfeeding-vs-bottle-feeding-formula/">Breastfeeding vs Bottle Feeding Formula</a></blockquote>
<script type="text/javascript">
<!--//--><![CDATA[//><!--
		!function(d,l){"use strict";var e=!1,o=!1;if(l.querySelector)if(d.addEventListener)e=!0;if(d.wp=d.wp||{},!d.wp.receiveEmbedMessage)if(d.wp.receiveEmbedMessage=function(e){var t=e.data;if(t)if(t.secret||t.message||t.value)if(!/[^a-zA-Z0-9]/.test(t.secret)){var r,a,i,s,n,o=l.querySelectorAll('iframe[data-secret="'+t.secret+'"]'),c=l.querySelectorAll('blockquote[data-secret="'+t.secret+'"]');for(r=0;r<c.length;r++)c[r].style.display="none";for(r=0;r<o.length;r++)if(a=o[r],e.source===a.contentWindow){if(a.removeAttribute("style"),"height"===t.message){if(1e3<(i=parseInt(t.value,10)))i=1e3;else if(~~i<200)i=200;a.height=i}if("link"===t.message)if(s=l.createElement("a"),n=l.createElement("a"),s.href=a.getAttribute("src"),n.href=t.value,n.host===s.host)if(l.activeElement===a)d.top.location.href=t.value}}},e)d.addEventListener("message",d.wp.receiveEmbedMessage,!1),l.addEventListener("DOMContentLoaded",t,!1),d.addEventListener("load",t,!1);function t(){if(!o){o=!0;var e,t,r,a,i=-1!==navigator.appVersion.indexOf("MSIE 10"),s=!!navigator.userAgent.match(/Trident.*rv:11\./),n=l.querySelectorAll("iframe.wp-embedded-content");for(t=0;t<n.length;t++){if(!(r=n[t]).getAttribute("data-secret"))a=Math.random().toString(36).substr(2,10),r.src+="#?secret="+a,r.setAttribute("data-secret",a);if(i||s)(e=r.cloneNode(!0)).removeAttribute("security"),r.parentNode.replaceChild(e,r)}}}}(window,document);
//--><!]]]]><![CDATA[>
</script><iframe sandbox="allow-scripts" security="restricted" src="https://americanpregnancy.org/breastfeeding/breastfeeding-vs-bottle-feeding-formula/embed/" width="600" height="338" title="&#8220;Breastfeeding vs Bottle Feeding Formula&#8221; &#8212; American Pregnancy Association" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" class="wp-embedded-content"></iframe></figure><figure class="kg-card kg-bookmark-card"><a class="kg-bookmark-container" href="https://www.enfamil.com/feeding-my-baby/enspire-by-enfamil?gclsrc=aw.ds&amp;ds_rl=1276165?cb="><div class="kg-bookmark-content"><div class="kg-bookmark-title">Enspire by Enfamil</div><div class="kg-bookmark-description"></div><div class="kg-bookmark-metadata"><img class="kg-bookmark-icon" src="https://www.enfamil.com/sites/us/files/rib_favicon.ico" alt="The Benefits of Breastfeeding vs Formula"><span class="kg-bookmark-publisher">Enfamil US</span></div></div><div class="kg-bookmark-thumbnail"><img src="https://www.enfamil.com/sites/us/files/default_images/default_image_0.jpeg" alt="The Benefits of Breastfeeding vs Formula"></div></a></figure>]]></content:encoded></item><item><title><![CDATA[How this blog was made]]></title><description><![CDATA[<p>Building this blog went through multiple iterations.  The objective being sought after was ease-of-use combined with the ability to be hosted as a static site.  </p><!--kg-card-begin: html--><aside class="toc"></aside><!--kg-card-end: html--><hr><h2 id="network-diagram">Network Diagram</h2><figure class="kg-card kg-image-card kg-card-hascaption"><img src="https://neighborlynook.com/content/images/2020/07/Neighborly-Nook-Setup-1.png" class="kg-image" alt srcset="https://neighborlynook.com/content/images/size/w600/2020/07/Neighborly-Nook-Setup-1.png 600w, https://neighborlynook.com/content/images/size/w1000/2020/07/Neighborly-Nook-Setup-1.png 1000w, https://neighborlynook.com/content/images/size/w1600/2020/07/Neighborly-Nook-Setup-1.png 1600w, https://neighborlynook.com/content/images/2020/07/Neighborly-Nook-Setup-1.png 1768w" sizes="(min-width: 720px) 720px"><figcaption>Diagram showing the interaction flow</figcaption></figure><h2 id="choosing-the-medium">Choosing the Medium</h2><p>To create a blogging platform for the family, I started by listing out the requirements</p>]]></description><link>https://neighborlynook.com/how-this-blog-was-made/</link><guid isPermaLink="false">5f2078f2ab78810001ef3411</guid><category><![CDATA[developer]]></category><category><![CDATA[code]]></category><category><![CDATA[webdev]]></category><dc:creator><![CDATA[Matthew Zygowicz]]></dc:creator><pubDate>Sun, 02 Aug 2020 01:18:31 GMT</pubDate><media:content url="https://neighborlynook.com/content/images/2020/08/taylor-vick-M5tzZtFCOfs-unsplash.jpg" medium="image"/><content:encoded><![CDATA[<img src="https://neighborlynook.com/content/images/2020/08/taylor-vick-M5tzZtFCOfs-unsplash.jpg" alt="How this blog was made"><p>Building this blog went through multiple iterations.  The objective being sought after was ease-of-use combined with the ability to be hosted as a static site.  </p><!--kg-card-begin: html--><aside class="toc"></aside><!--kg-card-end: html--><hr><h2 id="network-diagram">Network Diagram</h2><figure class="kg-card kg-image-card kg-card-hascaption"><img src="https://neighborlynook.com/content/images/2020/07/Neighborly-Nook-Setup-1.png" class="kg-image" alt="How this blog was made" srcset="https://neighborlynook.com/content/images/size/w600/2020/07/Neighborly-Nook-Setup-1.png 600w, https://neighborlynook.com/content/images/size/w1000/2020/07/Neighborly-Nook-Setup-1.png 1000w, https://neighborlynook.com/content/images/size/w1600/2020/07/Neighborly-Nook-Setup-1.png 1600w, https://neighborlynook.com/content/images/2020/07/Neighborly-Nook-Setup-1.png 1768w" sizes="(min-width: 720px) 720px"><figcaption>Diagram showing the interaction flow</figcaption></figure><h2 id="choosing-the-medium">Choosing the Medium</h2><p>To create a blogging platform for the family, I started by listing out the requirements for the platform.   The three requirements I decided on were; ease-of-use, extensibility, and ability to self-host or deploy to a static site.  With that in mind, I looked into the below applications.</p><p><strong>WordPress: </strong>I used to do work/blog on a WordPress platform, and while I found the ease-of-use to be there, I never quite liked the UX (and plugin system overload).  So I ruled this one out.</p><p><strong>Gatsby + GitHub pages: </strong>As I started down the path of scaffolding a blogging application out, and started writing the first post, I saw the folder-structure and markdown articles and said "ok, maybe I have to teach the wife a few things".  Then I got to the deployment and thought "Junior engineers struggle with Git, teaching my wife to regurgitate commands shouldn't be an option.  Maybe a script, or do I scrap the idea?"</p><p><strong>Ghost:</strong> I first heard about Ghost about a year ago, it being open-source is a plus.  But hosting costs money, and after digging around on the net I found a GitHub project for ghost-on-GitHub as a static site, which checks my speed of hosting box!  So I started down this path...</p><h2 id="installation">Installation</h2><p>Installation on my home infrastructure was a cinch as most pieces are dockerized. So  to make it work, I did as all good engineers do, and followed in the footsteps of someone else (see ghost-configuration-guide from the resources). I feel as though I'd be doing a disservice by attempting to regurgitate an already good guide for the installation steps of the pieces.  The only part not captured by the guide is setting up my ghost-to-github-pages docker image.  </p><p><strong>Ghost to GitHub pages:</strong></p><figure class="kg-card kg-code-card"><pre><code class="language-bash">docker build --build-arg GH_PAT=abc123 --build-arg GH_REPO=github.com/goldsziggy/neighborlynook.git --build-arg GHOST_SERVER_URL="https://hidden.example.com" --build-arg GIT_EMAIL="matt@zygowicz.com" --build-arg GIT_NAME="Matthew Zygwoicz" -t ghost-on-git .</code></pre><figcaption>docker build command</figcaption></figure><figure class="kg-card kg-code-card"><pre><code>docker run -it ghost-on-git</code></pre><figcaption>docker run commands</figcaption></figure><h2 id="how-it-works-">How it works.</h2><p>This section will more-or-less be going over the following network diagram.</p><figure class="kg-card kg-image-card kg-card-hascaption"><img src="https://neighborlynook.com/content/images/2020/07/Neighborly-Nook-Setup-1.png" class="kg-image" alt="How this blog was made" srcset="https://neighborlynook.com/content/images/size/w600/2020/07/Neighborly-Nook-Setup-1.png 600w, https://neighborlynook.com/content/images/size/w1000/2020/07/Neighborly-Nook-Setup-1.png 1000w, https://neighborlynook.com/content/images/size/w1600/2020/07/Neighborly-Nook-Setup-1.png 1600w, https://neighborlynook.com/content/images/2020/07/Neighborly-Nook-Setup-1.png 1768w" sizes="(min-width: 720px) 720px"><figcaption>Diagram showing the interaction flow</figcaption></figure><p>Both the diagram and our blogging adventures start with the family navigating to the Ghost application in the browser via an internal URL.  Behind the scenes, the request is sent to our local server and filtered through the Nginx config.  The Nginx config, which works as a reverse proxy, intercepts the subdomain and forwards the request to ghost running on that server.  From there Ghost can simply behave as normal and serve up its user experience and allow us to write our blog pages.</p><p>The bottom half of the diagram shows user/viewer traffic.  Notice that the line never actually touches our infrastructure and instead all get filtered through Github.  That is because this blog is 100% hosted as static pages from Github (check out the repo from the resources below!).  The dockerized cronjob is the magic glue to make this happen.</p><p>The dockerized job is a simple script. The script takes the following actions:</p><ol><li>Sets up a local git user profile</li><li>Clones the GitHub repo where the static site will be hosted using a Personal Access Token</li><li>Removes all non-git-related files, and adds the CNAME file for GitHub  (this is to have clean commits).</li><li>Use the <code>ghost-static-site-generator</code> npm module to generate the static site. </li><li>Push up the new changeset</li></ol><p>The containerization and scheduling of those 5 steps allow the automation of a static-site generator and easy-to-use blog.  Below you will see the snippet from the dockerized script, or feel free to visit the Github mentioned in the resources below. </p><p>In my home infrastructure I am running my update cron job every hour (which admittedly boosts my Github contribution chart, so I may make a dummy account for this eventually).</p><h3 id="the-script">The Script<br></h3><pre><code class="language-bash">#!/bin/sh

echo "Starting script."
# git stuffz
echo "configuring the git profile."
git config --global user.email "${GIT_EMAIL}"
git config --global user.name "${GIT_NAME}"

# Reset the ghost dir
echo "Reseting the GHOST_PATH: $GHOST_PATH directory"
rm -rf $GHOST_PATH
mkdir $GHOST_PATH
cd $GHOST_PATH

# Clone into the new dir
echo "Cloning into the GHOST_PATH"
git clone https://${GH_PAT}:x-oauth-basic@${GH_REPO} $GHOST_PATH

# Clean cloned directory
git rm -rf .
git clean -fxd

# Place our CNAME file back
echo $REMOTE_URL &gt;&gt; CNAME

# Run the command to make the static page
echo "Starting the static page crawler"
gssg --domain $GHOST_SERVER_URL --url $REMOTE_URL --dest $GHOST_PATH

# push it up!
echo "Push the change up"
git add .
# git commit -am "updated site"
# https://stackoverflow.com/a/35027514
LANG=C git -c color.status=false status \
| sed -n -r -e '1,/Changes to be committed:/ d' \
            -e '1,1 d' \
            -e '/^Untracked files:/,$ d' \
            -e 's/^\s*//' \
            -e '/./p' \
| git commit -F -

# Push up our new commit!
git push</code></pre><h2 id="resources">Resources</h2><p><strong>ghost-to-static-pages</strong>: <a href="https://www.npmjs.com/package/ghost-static-site-generator">https://www.npmjs.com/package/ghost-static-site-generator</a></p><p><strong>ghost configuration guide</strong>: <a href="https://technicalramblings.com/blog/how-to-setup-a-ghost-site-with-letsencrypt-and-mariadb-on-unraid/">https://technicalramblings.com/blog/how-to-setup-a-ghost-site-with-letsencrypt-and-mariadb-on-unraid/</a></p><p><strong>docker-ghost-on-github repo: </strong><a href="https://github.com/goldsziggy/docker-ghost-on-github">https://github.com/goldsziggy/docker-ghost-on-github</a></p><p><strong>neighborly-nook GitHub page</strong>: <a href="https://github.com/goldsziggy/neighborlynook">https://github.com/goldsziggy/neighborlynook</a></p><p></p><p></p><p></p>]]></content:encoded></item><item><title><![CDATA[Pregnancy & Delivery during COVID-19]]></title><description><![CDATA[<hr><p>Being pregnant is supposed to be an exciting time for new expecting parents but the excitement was overcome with stress, worry, and fear. Once Covid 19 happened everything about my pregnancy had changed. We were told we couldn't see loved ones let alone leave the house. I had to leave</p>]]></description><link>https://neighborlynook.com/pregnancy-during-covid-19/</link><guid isPermaLink="false">5f207f23ab78810001ef34c8</guid><category><![CDATA[pregnancy]]></category><category><![CDATA[baby]]></category><dc:creator><![CDATA[Samantha Zygowicz]]></dc:creator><pubDate>Thu, 30 Jul 2020 02:32:29 GMT</pubDate><media:content url="https://images.unsplash.com/photo-1585222515068-7201a72c4181?ixlib=rb-1.2.1&amp;q=80&amp;fm=jpg&amp;crop=entropy&amp;cs=tinysrgb&amp;w=2000&amp;fit=max&amp;ixid=eyJhcHBfaWQiOjExNzczfQ" medium="image"/><content:encoded><![CDATA[<hr><img src="https://images.unsplash.com/photo-1585222515068-7201a72c4181?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=2000&fit=max&ixid=eyJhcHBfaWQiOjExNzczfQ" alt="Pregnancy & Delivery during COVID-19"><p>Being pregnant is supposed to be an exciting time for new expecting parents but the excitement was overcome with stress, worry, and fear. Once Covid 19 happened everything about my pregnancy had changed. We were told we couldn't see loved ones let alone leave the house. I had to leave work earlier than expected and soon my husband and I became prisoners in our own home. Luckily we happened to be home bodies so being told to stay home wasn't hard for us to do. What made it hard for me was that I couldn't go grocery shopping, shop for baby clothes etc. Doing the grocery shopping every week was my time away, it is something I enjoy doing. </p><p>	I soon had to come to the realization that staying home was the safest thing for my and my baby. The hardest part was when all appointments for the baby had to be done without my husband present. At the start of my pregnancy my husband came to every ultrasound and appointment. When they made it impossible for anyone to come to any and all doctor appointments all the excitement we had was suddenly paused. Due to my pregnancy being High Risk we got ultrasounds done weekly so I always had pictures to bring home to my husband. We just held on to those pictures and that our little one was safe and we would be seeing and holding him soon.</p><p>The months went by and the time had finally come for our Baby Shower. Every mother to be looks forward to the Baby Shower and I was planning my shower before my pregnancy was even confirmed. I knew exactly what I wanted and how I expected everything to be. My mother, sister, and Mimi had planned my shower but it ended up being canceled do to Covid 19 social distancing restrictions. I think I was mostly upset because I knew how much work they had put into and all the little details. We didn't want to just cancel the shower all together so that's when we came up with a plan. My husband and I decided on doing a Virtual shower and video chatted with all our family and friends while opening all the gifts that were sent to us. It might not have been what we planned for but it ended up working out great.</p><p>	Fast forward almost 2 months, and it was finally time for our son. I am so thankful that my husband was able to join me in the delivery room and stay by my side through it all. I was so scared of the possibility of having to go through it alone. At the time, some hospitals in other states were not allowing anyone else in  Labor and Delivery. I really feel for those women and families that had to deal with that. Delivery is hard enough on a women, having to go through it alone is just unimaginable. I thank god every day we were able to go through it together. </p><p>Today, we are blessed with an amazing little boy who is thriving and growing so fast each and every day. If it wasn't for my husband I don't think I would have been able to get through the pregnancy and delivery as well as I did. Family and positivity is key in getting through any hurtle in life, Covid 19 is just another hurtle. </p><p></p><p></p>]]></content:encoded></item><item><title><![CDATA[No Bake Lactation Bites]]></title><description><![CDATA[no-bake lactation cookies to boost milk supply]]></description><link>https://neighborlynook.com/lactation-cookies/</link><guid isPermaLink="false">5f205e4fab78810001ef3367</guid><category><![CDATA[recipe]]></category><category><![CDATA[breastfeeding]]></category><category><![CDATA[baby]]></category><dc:creator><![CDATA[Samantha Zygowicz]]></dc:creator><pubDate>Tue, 28 Jul 2020 17:51:20 GMT</pubDate><media:content url="https://images.unsplash.com/photo-1578496005991-dd7038cd11bf?ixlib=rb-1.2.1&amp;q=80&amp;fm=jpg&amp;crop=entropy&amp;cs=tinysrgb&amp;w=2000&amp;fit=max&amp;ixid=eyJhcHBfaWQiOjExNzczfQ" medium="image"/><content:encoded><![CDATA[<img src="https://images.unsplash.com/photo-1578496005991-dd7038cd11bf?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=2000&fit=max&ixid=eyJhcHBfaWQiOjExNzczfQ" alt="No Bake Lactation Bites"><p>As a first time mom I have found that these deliciously simple No Bake Bites are a life safer for your Milk Supply. </p><hr><figure class="kg-card kg-image-card kg-card-hascaption"><img src="https://neighborlynook.com/content/images/2020/07/IMG_3727.png" class="kg-image" alt="No Bake Lactation Bites" srcset="https://neighborlynook.com/content/images/size/w600/2020/07/IMG_3727.png 600w, https://neighborlynook.com/content/images/size/w1000/2020/07/IMG_3727.png 1000w, https://neighborlynook.com/content/images/size/w1600/2020/07/IMG_3727.png 1600w, https://neighborlynook.com/content/images/size/w2400/2020/07/IMG_3727.png 2400w" sizes="(min-width: 720px) 720px"><figcaption>Ingredients for No Bake Bites</figcaption></figure><h2 id="ingredients">Ingredients</h2><ul><li>2 cups of old-fashioned oats</li><li>1/2 cup of flaxseed meal</li><li>3 tablespoons Brewer's yeast</li><li> 1 cup peanut butter</li><li>1 teaspoon vanilla</li><li>1/2 cup honey</li><li> 1 teaspoon of vanilla</li><li>1/2 cup chocolate chips</li></ul><p></p><h2 id="instructions">Instructions</h2><p>Mix all ingredients except the chocolate chips together using a electric hand mixer until well combined. </p><p>Stir in the chocolate chips. </p><p>Roll mixture into 2-tablespoon sized balls and place on parchment-lined baking sheet. </p><p>Place in Refrigerator for 30 minutes or eat up right away. Once the bites have set, place in an air-tight container and store in refrigerator for up to 2 weeks. </p><figure class="kg-card kg-image-card kg-card-hascaption"><img src="https://neighborlynook.com/content/images/2020/07/IMG_3735.png" class="kg-image" alt="No Bake Lactation Bites" srcset="https://neighborlynook.com/content/images/size/w600/2020/07/IMG_3735.png 600w, https://neighborlynook.com/content/images/size/w1000/2020/07/IMG_3735.png 1000w, https://neighborlynook.com/content/images/size/w1600/2020/07/IMG_3735.png 1600w, https://neighborlynook.com/content/images/size/w2400/2020/07/IMG_3735.png 2400w" sizes="(min-width: 720px) 720px"><figcaption>No Bake Bites fresh out of the fridge, looks good enough the cat wants to try!</figcaption></figure><p></p><h2 id="resources">Resources</h2><p>https://thebakermama.com/recipes/no-bake-lactation-bites/</p>]]></content:encoded></item></channel></rss>